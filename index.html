<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <div class="InteractionMenu">
            <div class="gameAndMethods">
                <div class="title">Laberinto</div>
                <div class="game" id="canvas">

                </div>
                <div class="methods">
                    <a id="Voraz">Voraz</a>
                    <a id="Estrella">Estrella</a>
                </div>
            </div>
            <div class="EditMenu">
                <div class="emptySpace"></div>
                <div class="option">
                    <span>Obstaculo</span>
                    <div class="icon obstacle"></div>
                </div>
                <div class="option">
                    <span>Inicio</span>
                    <div class="icon init"></div> 
                </div>
                <div class="option">
                    <span>Meta</span>
                    <div class="icon goal"></div>      
                </div>
            </div>
        </div>
    </div>
    <!-- <button >Buscar</button> --> 
      <script src="p5.min.js"></script>
    <script src="character.js"></script>
    <script src="sketch.js"></script>
    <script src="render.js"></script>
    <script src="methods.js"></script>
    <script>
    var node = null;
    var isWin= false;
    document.getElementById("Voraz").onclick = function(){
        if(isWin==false){
            if(node==null)
                node = new Search(character);
            BestChoice =node.Voraz();
            isWin = BestChoice[2];
            //console.log(BestChoice);
            //Render In viewport
            character.SetPosition(BestChoice[0],BestChoice[1])
            UpdateOpenSet(node.OpenSetinPosition());
            UpdateCloseSet(node.CloseSetinPosition().slice(0, -1));
            if(isWin){
                WinRoute(node.WinRoute());
            }
        }    
    }
    document.getElementById("Estrella").onclick = function(){
        if(isWin==false){
            if(node==null)
                node = new Search2(character);
            BestChoice =node.Estrella();
            isWin = BestChoice[2];
            console.log(BestChoice);
            character.SetPosition(BestChoice[0],BestChoice[1])

            UpdateOpenSetEstrella(node.OpenSetinPosition());
            UpdateCloseSetEstrella(node.CloseSetinPosition());
            if(isWin){
                WinRoute(node.WinRoute());
            }//.slice(0, -1)
        }    
    }
    </script>
    

</body>
</html>